@mixin gallery($keys, $gutter: map-get($grid, gutter)) {

	$key: nth($keys, 1);
	$items: $columnCount / $key;

	$totalGutters: $columnCount / $gutter + $columnCount - 1;
	$gutterWidth: 100% / $totalGutters;
	$totalGutterWidth: $gutterWidth * $gutterCount;
	$columnWidth: (100% - $totalGutterWidth) / $columnCount;

	width: ($key * $columnWidth) + (($key - 1) * $gutterWidth);
	float: left;
	margin-right: $gutterWidth;
	margin-bottom: $gutterWidth;

	&:nth-of-type( #{$items}n + #{$items} ) {
		margin-right: 0;
	}

	&:not(:first-of-type) {

		@include if-above($gridBreakpoint) {
			&:nth-of-type(-n+#{$items}) {
				margin-top: 0;
			}
		}
	}
	@include if-above($gridBreakpoint) {
		&:nth-of-type(#{$items}n + #{$items}) {
			margin-right: 0;
		}
	}
}
