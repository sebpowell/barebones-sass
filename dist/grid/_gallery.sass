@mixin gallery($keys...)
	+respond-below($gridBreakpoint)
		width: 100%
		
	$items: length($keys)
	@if $items > 1
		@for $i from 1 through $items
			$key: nth($keys, $i)
			&:not(:first-child)
				margin-top: $gutterWidth
				+respond-above($gridBreakpoint)
					&:nth-child(-n+#{$items})
						margin-top: 0

			&:nth-child(#{$items}n + #{$i})
				+respond-above($gridBreakpoint)
					width: columnCalc($key)
					margin-right: $gutterWidth
					float: left
					
			&:nth-child(#{$items}n)
				margin-right: 0

	@else
		$key: nth($keys, 1)
		$items: $columnCount / $key
		
		&:not(:first-child)
			margin-top: $gutterWidth
			+respond-above($gridBreakpoint)
				&:nth-child(-n+#{$items})
					margin-top: 0

		+respond-above($gridBreakpoint)
			width: columnCalc($key)
			margin-right: $gutterWidth
			float: left
			
			&:nth-child(#{$items}n + #{$items})
				margin-right: 0


// @for $i from 1 through settings(layout, columns)
// 	@each $key, $value in settings(breakpoints)
// 		.gallery-#{$i}-#{$key}
// 			+no-bullet
// 			+clearfix
// 			+respond-above($key)
// 				margin-left: -(settings(layout, gutter))
// 				margin-right: -(settings(layout, gutter))

// 			@if $i < 1
// 				margin-left: 0
// 				margin-right: 0

// 			.gallery-item
// 				width: 100%
// 				margin-bottom: settings(layout, gutter)
// 				&:last-child
// 					margin-bottom: 0

// 				+respond-below($key)
// 					&:nth-child(#{$i}n + 1)
// 						// Clears floats after a row is complete for variable height elements.
// 						// This doesn't work if multiple classes are set (e.g. 2-device-small and 3-device-medium)
// 						clear: both


// 				+respond-above($key)
// 					width: 100% / $i !important
// 					float: left
// 					padding: 0 settings(layout, gutter) !important
// 					// &:nth-last-of-type(-n+#{$i})
// 					// 	margin-bottom: 0


